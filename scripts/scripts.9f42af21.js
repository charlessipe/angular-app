"use strict";angular.module("angularAppApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/review",{templateUrl:"views/review.html",controller:"ReviewCtrl",controllerAs:"review"}).when("/dashboard",{templateUrl:"views/dashboard.html",controller:"DashboardCtrl",controllerAs:"dashboard"}).when("/mainvariation",{templateUrl:"views/mainvariation.html",controller:"MainvariationCtrl",controllerAs:"mainvariation"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/retreatsurvey",{templateUrl:"views/retreatsurvey.html",controller:"RetreatsurveyCtrl",controllerAs:"retreatsurvey"}).otherwise({redirectTo:"/"})}]),angular.module("angularAppApp").controller("MainCtrl",["$scope","$http","current","places","$firebaseObject","$q",function(a,b,c,d,e,f){var g={apiKey:"AIzaSyBEt5kwNoMYKzs6FWjS-rbgPQEhiGdofwc",authDomain:"survey-pop.firebaseapp.com",databaseURL:"https://survey-pop.firebaseio.com"};firebase.initializeApp(g),a.checkLoginStatus=function(){firebase.auth().onAuthStateChanged(function(b){b?(console.log(b),a.currentUserEmail=b.email,a.currentUserId=b.uid,console.log(a.currentUserEmail),console.log(a.currentUserId),a.$apply()):console.log("Please log into your account")})}(),setTimeout(function(){console.log("The currentUserId is: "+a.currentUserId),"c4fede9a-73e2-4083-a120-1eb9078c279b"==a.currentUserId?a.currentPlaceId="ChIJNwF_A-FbkFQRDDk_Nysa1Dg":"abc"==a.currentUserId?a.currentPlaceId="another place Id":a.currentPlaceId="hi";var b=a.currentPlaceId;console.log("currentPlaceId is: "+b),a.places=d.query({placeid:b}),console.log(a.places)},1e3)}]),angular.module("angularAppApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("angularAppApp").factory("current",["$resource",function(a){return a("http://api.openweathermap.org/data/2.5/weather?q=:location&units=imperial&APPID=8d34b5da21d8bfcce9e172bf4c8a8264",{},{query:{method:"GET",params:{location:"Seattle,us"},isArray:!1}})}]),angular.module("angularAppApp").factory("yelp",["$resource",function(a){}]),angular.module("angularAppApp").factory("places",["$resource",function(a){return a("https://crossorigin.me/https://maps.googleapis.com/maps/api/place/details/json",{},{query:{method:"GET",params:{key:"AIzaSyDjqFrrexwOFxK8OQb6gDhslHir22W05ik",placeid:"@placeid"},isArray:!1}})}]),angular.module("angularAppApp").controller("ReviewCtrl",["$scope","$firebaseObject",function(a,b){var c=firebase.database().ref();a.getFormValues=function(){"popcorn"==a.surveyCode?(c.child("businessProfile").child("signature-pointe").child("surveyAnswers").push({name:"Signature Pointe",code:a.surveyCode,question1:a.question1,question2:a.question2,question3:a.question3,question4:a.question4,firstName:a.firstName,lastName:a.lastName,address:a.address}),a.surveyCode="",a.question1="",a.question2="",a.question3="",a.question4="",a.firstName="",a.lastName="",a.address="",a.surveySubmitSuccess=!0,a.wrongSurveyCode=!1):a.wrongSurveyCode=!0}}]),angular.module("angularAppApp").controller("DashboardCtrl",["$scope",function(a){var b=firebase.database().ref(),c=function(b){"c4fede9a-73e2-4083-a120-1eb9078c279b"==a.currentUserId?a.currentCompanyName="signature-pointe":"h61hpzK50mU4j6jWT28ELPAqguZ2"==a.currentUserId?a.currentCompanyName="the-retreat":a.currentCompanyName="bye";var c=a.currentCompanyName;a.theBusinessName=b.child("businessProfile").child(c).child("businessName").val(),a.surveyAnswers=b.child("businessProfile").child(c).child("surveyAnswers").val(),a.theQuestions=b.child("businessProfile").child(c).child("questions").val()};b.once("value").then(c).then(function(){console.log(a.theBusinessName),console.log(a.surveyAnswers),console.log(a.theQuestions),a.firstQuestion=a.theQuestions[Object.keys(a.theQuestions)[0]].question,a.secondQuestion=a.theQuestions[Object.keys(a.theQuestions)[1]].question,a.thirdQuestion=a.theQuestions[Object.keys(a.theQuestions)[2]].question,a.fourthQuestion=a.theQuestions[Object.keys(a.theQuestions)[3]].question,a.$apply()}),a.submitQuestion=function(){b.child("businessProfile").child("signature-pointe").child("questions").push({question:a.addQuestion}),a.addQuestion=""}}]),angular.module("angularAppApp").controller("MainvariationCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("angularAppApp").controller("LoginCtrl",["$scope",function(a){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.createUser=function(){var b=a.userEmail,c=a.userPassword;console.log(b),console.log(c),firebase.auth().createUserWithEmailAndPassword(b,c).catch(function(a){var b=a.code,c=a.message;console.log(b),console.log(c)})},a.logInUser=function(){console.log("start login");var b=a.loginEmail,c=a.loginPassword;firebase.auth().signInWithEmailAndPassword(b,c).catch(function(a){a.code,a.message;console.log(users.email)}).then(function(a){console.log(a.uid),console.log(a.email)})},a.getAuth=function(){var a,b,c,d,e=firebase.auth().currentUser;null!=e&&(a=e.displayName,b=e.email,c=e.photoURL,d=e.uid),console.log(a),console.log(b),console.log(d)},a.logOut=function(){firebase.auth().signOut().then(function(){},function(a){}),console.log("Logging out")}}]),angular.module("angularAppApp").controller("RetreatsurveyCtrl",["$scope","$firebaseObject",function(a,b){var c=firebase.database().ref();a.getFormValues=function(){"popcorn"==a.surveyCode?(c.child("businessProfile").child("the-retreat").child("surveyAnswers").push({name:"The Retreat",code:a.surveyCode,question1:a.question1,question2:a.question2,question3:a.question3,question4:a.question4,firstName:a.firstName,lastName:a.lastName,address:a.address}),a.surveyCode="",a.question1="",a.question2="",a.question3="",a.question4="",a.firstName="",a.lastName="",a.address="",a.surveySubmitSuccess=!0,a.wrongSurveyCode=!1):a.wrongSurveyCode=!0}}]),angular.module("angularAppApp").run(["$templateCache",function(a){a.put("views/about.html",'<p>Survey Pop allows you to easily survey your customers and view their feedback in a simple dashboard.</p> <div ng-app ng-init="firstnum=1;secondnum=2"> <input type="number" min="0" ng-model="firstnum"> plus <input type="number" min="0" ng-model="secondnum"> equals <span class="label label-success">{{firstnum + secondnum}}</span> </div>'),a.put("views/dashboard.html",'<div ng-init="loadData" class="row"> <div class="col-sm-12"> <div class="alert alert-success" ng-show="currentUserEmail" role="alert">You are logged in as {{currentUserEmail}}</div> <div class="alert alert-danger" ng-show="!currentUserEmail" role="alert">You are not logged in. Log in <a href="#">here</a>.</div> <h1>Survey Pop User Dashboard</h1> <h2>Find Out What Your Customers Are Thinking</h2> <p>Your Business Name: <input type="text" name="businessName" ng-model="theBusinessName"> <button class="btn btn-sm btn-primary" ng-click="changeBusiness()">Edit</button></p> <p>Add Question: <input type="text" name="question1" ng-model="addQuestion"> <button class="btn btn-sm btn-primary" ng-click="submitQuestion()">Add Question</button></p> <h2>Current Survey Questions</h2> <h3>Question 1: {{firstQuestion}} <input type="text" name="businessName" ng-model="currentQuestion"> <button class="btn btn-sm btn-primary">Edit Question</button></h3> <ul ng-repeat="answer in surveyAnswers"> <li>{{answer.question1}}</li> </ul> <h3>Question 2: {{secondQuestion}} <input type="text" name="businessName" ng-model="currentQuestion"> <button class="btn btn-sm btn-primary">Edit Question</button></h3> <ul ng-repeat="answer in surveyAnswers"> <li>{{answer.question2}}</li> </ul> <h3>Question 3: {{thirdQuestion}} <input type="text" name="businessName" ng-model="currentQuestion"> <button class="btn btn-sm btn-primary">Edit Question</button></h3> <p></p> <ul ng-repeat="answer in surveyAnswers"> <li>{{answer.question3}}</li> </ul> <h3>Question 4: {{fourthQuestion}} <input type="text" name="businessName" ng-model="currentQuestion"> <button class="btn btn-sm btn-primary">Edit Question</button></h3> <ul ng-repeat="answer in surveyAnswers"> <li>{{answer.question4}}</li> </ul> <!-- Experiment \n      <p>Experimental</p>\n      <div ng-repeat="questions in theQuestions | limitTo: 1 | limitTo: -2">\n        {{questions.question}}\n        <ul ng-repeat="answer in surveyAnswers">\n          <li>{{answer.question1}}</li>\n        </ul>\n      </div>\n\n      <div ng-repeat="questions in theQuestions | limitTo : -2 : 2">\n        {{ questions }} at {{ $index }}\n      </div>\n      --> <h3>Google Places Rating: {{places.result.rating}}</h3> <h3><strong>Latest Google Reviews for {{theBusinessName}}:</strong></h3> <div class="panel panel-info"> <div class="panel-body"> Review </div> <div class="panel-footer"><p>{{places.result.reviews[0].text}} <strong>{{places.result.reviews[0].rating}} Stars</strong></p></div> </div> <div class="panel panel-info"> <div class="panel-body"> Review </div> <div class="panel-footer"><p>{{places.result.reviews[1].text}} <strong>{{places.result.reviews[1].rating}} Stars</strong></p></div> </div> <div class="panel panel-info"> <div class="panel-body"> Review </div> <div class="panel-footer"><p>{{places.result.reviews[2].text}} <strong>{{places.result.reviews[2].rating}} Stars</strong></p></div> </div> <div class="panel panel-info"> <div class="panel-body"> Review </div> <div class="panel-footer"><p>{{places.result.reviews[3].text}} <strong>{{places.result.reviews[3].rating}} Stars</strong></p></div> </div> <div class="panel panel-info"> <div class="panel-body"> Review </div> <div class="panel-footer"><p>{{places.result.reviews[4].text}} <strong>{{places.result.reviews[4].rating}} Stars</strong></p></div> </div> </div> </div>'),a.put("views/login.html",'<!-- Log in panel --> <div class="alert alert-success" ng-show="currentUserEmail" role="alert">You are logged in as {{currentUserEmail}}</div> <div class="alert alert-danger" ng-show="!currentUserEmail" role="alert">You are not logged in. Log in <a href="#">here</a>.</div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Log In</h3> </div> <div class="panel-body"> <form ng-submit="logInUser()" ng-submit="getAuth()"> <p>Email: <input type="text" ng-model="loginEmail" placeholder="email"> Password: <input type="password" ng-model="loginPassword" placeholder="password"> <input type="submit" id="submit" value="Submit"> </p> </form> </div> </div> <!-- Create account panel --> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Create a Manager Account</h3> </div> <div class="panel-body"> <form ng-submit="createUser()"> <p>Enter your email:</p> <input type="text" ng-model="userEmail" placeholder="email"> <p>Enter a new password</p> <input type="text" ng-model="userPassword" placeholder="password"><br> <input type="submit" id="submit" value="Submit"> </form> </div> </div> <button ng-click="logOut()" type="button" class="btn btn-danger">Log Out</button> <p>User Id: {{currentUserId}}</p>'),a.put("views/main.html",'<div class="jumbotron head-banner"> <h1>Survey Pop</h1> <h2>Find Out What Your Customers Are Thinking</h2> <a class="btn btn-primary btn-lg" href="#/review" role="button">Take the Survey</a> </div> <div class="row"> <div class="col-sm-12"> <h2>Survey Pop allows you to easily collect feedback from your customers.</h2> <ul> <li>1. Give your customers a card with the survey code.</li> <li>2. Customers go to the URL on the card to fill out the survey.</li> <li>3. A gift card is automatically mailed to the customer.</li> <li>4. Review your customer\'s feedback in the user dashboard.</li> </ul> <h2>Pricing</h2> <ul> <li>$20/month - 10 surveys per month</li> <li>$30/month - 20 surveys per month</li> <li>$40/month - 100 surveys per month</li> </ul> <p><a href="#/dashboard">View the User Dashboard</a></p> <p><a href="#/review">View the Survey</a></p> </div> </div>  <!--\n<div ng-app class="jumbotron" ng-controller="MainCtrl">\n  <h1>Weather for {{current.name}}</h1>\n  <p class="lead">\n    <div ng-init="location=\'Seattle\'">\n        <p>\n          <label for="location">Location:\n            <input type="text" name="location" ng-model="location">\n          </label>\n        </p>\n        <p>\n          <button class="btn btn-lg btn-primary" ng-click="refreshCurrent()">Get Current Weather</button>\n        </p>\n      <dl>\n        <dt>Currently</dt>\n        <dd>{{current.weather[0].main}}</dd>\n        <dd>{{current.weather[0].description}}</dd>\n        <dt>Temperature</dt>\n        <dd>{{current.main.temp}}</dd>\n        <dt>Wind</dt>\n        <dd>{{current.wind.speed}} mph at {{current.wind.deg}} degrees</dd>\n        <dt>Clouds</dt>\n        <dd>{{current.clouds.all}}%</dd>\n      </dl>\n    </div>\n  </p>\n</div>\n--> <!--\n<div class="jumbotron">\n  <h1>Simple Customer Survey Software</h1>\n  <p class="lead">\n    <img src="images/yeoman.8cb970fb.png" alt="I\'m Yeoman"><br>\n    Always a pleasure scaffolding your apps.\n  </p>\n  <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p>\n</div>\n\n<div class="row marketing">\n  <h4>HTML5 Boilerplate</h4>\n  <p>\n    HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites.\n  </p>\n\n  <h4>Angular</h4>\n  <p>\n    AngularJS is a toolset for building the framework most suited to your application development.\n  </p>\n\n  <h4>Karma</h4>\n  <p>Spectacular Test Runner for JavaScript.</p>\n</div>\n-->'),a.put("views/mainvariation.html",'<div class="container"> <div class="row"> <div class="col-sm-12"> <h1>Survey Pop</h1> <h2>Find Out What Your Customers Are Thinking</h2> <p>Log In - Register</p> <p><a href="#/dashboard">View the User Dashboard</a></p> <p><a type="button" class="btn btn-primary btn-lg" href="#/review">View the Survey!</a></p> <p>Survey Pop allows you to easily collect feedback from your customers.</p> <ul> <li>1. Give your customers a card with the survey code.</li> <li>2. Customers go to the URL on the card to fill out the survey.</li> <li>3. A gift card is automatically mailed to the customer.</li> <li>4. Review your customer\'s feedback in the user dashboard.</li> </ul> <p>Pricing</p> <ul> <li>$20/month - 10 surveys per month</li> <li>$30/month - 20 surveys per month</li> <li>$40/month - 100 surveys per month</li> </ul> </div> </div> </div>'),a.put("views/retreatsurvey.html",'<div class="row"> <h2>Complete the Survey Questions</h2> <form ng-submit="submitAnswers(); getFormValues();"> <p>Enter Your Survey Code <input type="text" name="surveyCode" ng-model="surveyCode"></p> <p>Question 1: Tell us a general description of your experience.</p> <input type="text" class="form-control" ng-model="question1" placeholder="question 1" aria-describedby="basic-addon1"> <p>Question 2: How was your interactions with our staff? </p> <input type="text" class="form-control" ng-model="question2" placeholder="question 2" aria-describedby="basic-addon1"> <p>Question 3: What do you <strong>like</strong> about living here?</p> <input type="text" class="form-control" ng-model="question3" placeholder="question 3" aria-describedby="basic-addon1"> <p>Question 4: What do you <strong>dislike</strong> about living here?</p> <input type="text" class="form-control" ng-model="question4" placeholder="question 4" aria-describedby="basic-addon1"> <p>Enter your name and mailing address so we can mail you a $5 Starbucks Card.</p> <p>First Name <input type="text" name="surveyCode" ng-model="firstName"> </p> <p>Last Name <input type="text" name="surveyCode" ng-model="lastName"></p> <p>Mailing Address (to receive your $5 Starbucks Card) <input type="text" class="form-control" placeholder="address" aria-describedby="basic-addon1" ng-model="address"> <input type="submit" id="submit" value="Submit">Submit </p><p>{{surveyCode}} {{question1}} {{question2}} {{question3}} {{firstName}} {{lastName}} {{address}}</p> <div ng-show="wrongSurveyCode" class="alert alert-danger"> <strong>Wrong Survey Code</strong> Please enter the correct survey code to submit this survey . </div> <div ng-show="surveySubmitSuccess" class="alert alert-success"> <strong>Thank you! Survey submitted successfully</strong> Look for your gift card in 1-2 weeks. </div> </form> <p>Check out our reviews on Google Places and Yelp.</p> </div>'),a.put("views/review.html",'<div class="row"> <h2>Complete the Survey Questions</h2> <form ng-submit="submitAnswers(); getFormValues();"> <p>Enter Your Survey Code <input type="text" name="surveyCode" ng-model="surveyCode"></p> <p>Question 1: Tell us a general description of your experience.</p> <input type="text" class="form-control" ng-model="question1" placeholder="question 1" aria-describedby="basic-addon1"> <p>Question 2: How was your interactions with our staff? </p> <input type="text" class="form-control" ng-model="question2" placeholder="question 2" aria-describedby="basic-addon1"> <p>Question 3: What do you <strong>like</strong> about living here?</p> <input type="text" class="form-control" ng-model="question3" placeholder="question 3" aria-describedby="basic-addon1"> <p>Question 4: What do you <strong>dislike</strong> about living here?</p> <input type="text" class="form-control" ng-model="question4" placeholder="question 4" aria-describedby="basic-addon1"> <p>Enter your name and mailing address so we can mail you a $5 Starbucks Card.</p> <p>First Name <input type="text" name="surveyCode" ng-model="firstName"> </p> <p>Last Name <input type="text" name="surveyCode" ng-model="lastName"></p> <p>Mailing Address (to receive your $5 Starbucks Card) <input type="text" class="form-control" placeholder="address" aria-describedby="basic-addon1" ng-model="address"> <input type="submit" id="submit" value="Submit">Submit </p><p>{{surveyCode}} {{question1}} {{question2}} {{question3}} {{firstName}} {{lastName}} {{address}}</p> <div ng-show="wrongSurveyCode" class="alert alert-danger"> <strong>Wrong Survey Code</strong> Please enter the correct survey code to submit this survey . </div> <div ng-show="surveySubmitSuccess" class="alert alert-success"> <strong>Thank you! Survey submitted successfully</strong> Look for your gift card in 1-2 weeks. </div> </form> <p>Check out our reviews on Google Places and Yelp.</p> </div>')}]);